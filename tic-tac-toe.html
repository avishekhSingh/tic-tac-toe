<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tic-tac-toe Game</title>
    <!-- Adding CSS and Script from Bootstrap. -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>

    <style>
      body {
        /* background-color:cadetblue; */
        background-image: url("https://images.pexels.com/photos/12489130/pexels-photo-12489130.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1");
        background-repeat: repeat;
        background-size: contain;
      }
      .grid-container {
        display: grid;
        box-sizing: content-box;
        grid-template-columns: auto auto auto;
        width: auto;
        border: 15px groove red;
      }
      .grid {
        background-color: greenyellow;
        height: 90px;
        border: 3px solid black;
        border-collapse: collapse;
        text-align: center;
        font-size: 65px;
      }
      .text-shadow{
        text-shadow: 5px 5px 7px black;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <h1 class="text-center text-white p-3 bg-danger text-shadow">Game : Tic-tac-toe</h1>
      <p id="chance" class="fs-3 text-white text-shadow"></p>
      <div class="row">
        <div class="col-sm">
          <div class="grid-container">
            <div class="grid" id="box1"></div>
            <div class="grid" id="box2"></div>
            <div class="grid" id="box3"></div>
            <div class="grid" id="box4"></div>
            <div class="grid" id="box5"></div>
            <div class="grid" id="box6"></div>
            <div class="grid" id="box7"></div>
            <div class="grid" id="box8"></div>
            <div class="grid" id="box9"></div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    $(document).ready(function () {
      var player = "X";
      var moveCount = 1;
      var winner = false;

      // Function for Current player message
      function currentPlayer() {
        if (player == "X") {
            var chance = "Next turn: Player 2";
            $("#chance").text(chance)
        } else {
            chance = "Next turn: Player 1";
            $("#chance").text(chance)
        }
      }
      // Player toggle function
      function togglePlayer() {
        if (player == "X") {
          player = "O";
        } else {
          player = "X";
        }
      }
      
      // Valid move check
      $(".grid").click(function () {
        var text = $(this).text();
        if (text) {
          alert("You can not enter again");
        } else {
          currentPlayer();
          $(this).text(`${player}`);
          winnerCheck(player)
          togglePlayer();
          moveCount++;
        }
      });

      // Winner check
      function winnerCheck(player){
        if ($("#box1").text()==$("#box2").text() && $("#box2").text()==$("#box3").text() && $("#box3").text()== player){
            if(player=="X"){
                console.log("Player 1 is won the match");
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
            else{
                console.log("Player 2 is won the match")
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
        }
        else if($("#box4").text()==$("#box5").text() && $("#box5").text()==$("#box6").text() && $("#box6").text()== player){
            if(player=="X"){
                console.log("Player 1 is won the match");
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
            else{
                console.log("Player 2 is won the match")
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
        }
        else if($("#box7").text()==$("#box8").text() && $("#box8").text()==$("#box9").text() && $("#box9").text()== player){
            if(player=="X"){
                console.log("Player 1 is won the match");
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
            else{
                console.log("Player 2 is won the match")
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
        }
        else if($("#box1").text()==$("#box4").text() && $("#box4").text()==$("#box7").text() && $("#box7").text()== player){
            if(player=="X"){
                console.log("Player 1 is won the match");
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
            else{
                console.log("Player 2 is won the match")
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
        }
        else if($("#box2").text()==$("#box5").text() && $("#box5").text()==$("#box8").text() && $("#box8").text()== player){
            if(player=="X"){
                console.log("Player 1 is won the match");
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
            else{
                console.log("Player 2 is won the match")
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
        }
        else if($("#box3").text()==$("#box6").text() && $("#box6").text()==$("#box9").text() && $("#box9").text()== player){
            if(player=="X"){
                console.log("Player 1 is won the match");
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
            else{
                console.log("Player 2 is won the match")
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
        }
        else if($("#box1").text()==$("#box5").text() && $("#box5").text()==$("#box9").text() && $("#box9").text()== player){
            if(player=="X"){
                console.log("Player 1 is won the match");
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
            else{
                console.log("Player 2 is won the match")
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
        }
        else if($("#box3").text()==$("#box5").text() && $("#box5").text()==$("#box7").text() && $("#box7").text()== player){
            if(player=="X"){
                console.log("Player 1 is won the match");
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
            else{
                console.log("Player 2 is won the match")
                alert(`Player ${player} win the game`)
                window.location.reload()
            }
        }
        else if(moveCount==9){
            alert("Game Draw! Game over")
            window.location.reload()
        }
      }
    });
  </script>
</html>
